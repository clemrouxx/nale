
.toolbar {
  display: flex;
  flex-wrap: wrap;
  background: var(--bg-contrasted);
  border-bottom: solid var(--border-primary) 1px;
}

.toolbar-itemgroup{
    display: flex;
    flex-shrink: 0;
    border-bottom: solid var(--border-primary) 1px;
    border-top: solid var(--border-primary) 1px;
    border-right: solid var(--border-primary) 1px;
    margin-top: -0.5px;
    margin-bottom: -0.5px;
}

button.toolbar-item {
  border: 0;
  display: flex;
  background: none;
  border-radius: 10px;
  padding: 8px;
  cursor: pointer;
  vertical-align: middle;
  flex-shrink: 0;
  align-items: center;
  justify-content: space-between;
  height: 100%;
}

.toolbar-itemgroup > *:only-child > button, .toolbar-itemgroup > button:only-child{
  border-radius: 0;
}

button.toolbar-item:disabled {
  cursor: not-allowed;
}

button.toolbar-item i, button.toolbar-item i, .dropdown i{
  opacity: 0.6;
}

button.toolbar-item i.format {
  height: 18px;
  width: 18px;
  margin: 0;
}

button.toolbar-item:disabled i,
button.toolbar-item:disabled .text,
button.toolbar-item:disabled i.format,
button.toolbar-item:disabled .chevron-down {
  opacity: 0.2;
}

button.toolbar-item.active {
  background-color: var(--bg-intermediate);
}

button.toolbar-item.active i {
  opacity: 1;
}

.toolbar-item:hover:not([disabled]) {
  background-color: var(--bg-intermediate);
}

.toolbar-item.font-family .text {
  display: block;
  max-width: 40px;
}

.toolbar .code-language {
  width: 150px;
}

.toolbar .toolbar-item .text {
  display: flex;
  line-height: 20px;
  vertical-align: middle;
  font-size: 14px;
  color: var(--text-secondary);
  text-overflow: ellipsis;
  overflow: hidden;
  height: 20px;
  text-align: left;
  padding-right: 10px;
  margin-left: 8px;
}

.toolbar .toolbar-item i, .toolbar .toolbar-item i {
  display: flex;
  width: 15px;
  height: 15px;
  user-select: none;
  line-height: 16px;
  background-size: contain;
  @media not (prefers-color-scheme: light) {
    filter:invert(1); /* Changes the icon from black (default) to white. */
  }
}

.toolbar i.chevron-down,
.toolbar-item i.chevron-down {
  margin-top: 3px;
  width: 16px;
  height: 16px;
  display: flex;
  user-select: none;
}

.toolbar i.chevron-down.inside {
  width: 16px;
  height: 16px;
  display: flex;
  margin-left: -25px;
  margin-top: 11px;
  margin-right: 10px;
  pointer-events: none;
}

.toolbar .divider {
  width: 1px;
  background-color: var(--bg-softest);
  margin: 0 4px;
}
  
i.image {
  background-image: url(/images/icons/file-image.svg);
}

i.figure {
  background-image: url(/images/icons/file-figure.svg);
}

i.equation {
  background-image: url(/images/icons/plus-slash-minus.svg);
}

i.table {
  background-image: url(/images/icons/table.svg);
}

i.close {
  background-image: url(/images/icons/close.svg);
}

i.left-align {
  background-image: url(/images/icons/text-left.svg);
}

i.center-align {
  background-image: url(/images/icons/text-center.svg);
}

i.right-align {
  background-image: url(/images/icons/text-right.svg);
}

i.justify-align {
  background-image: url(/images/icons/justify.svg);
}

i.vertical-top,
i.left-align {
  background-image: url(/images/icons/vertical-top.svg);
}

i.vertical-middle,
i.center-align {
  background-image: url(/images/icons/vertical-middle.svg);
}

i.vertical-bottom,
i.right-align {
  background-image: url(/images/icons/vertical-bottom.svg);
}

i.plus{
  background-image: url(/images/icons/plus-sign.svg);
}

i.indent {
  background-image: url(/images/icons/indent.svg);
}

i.outdent {
  background-image: url(/images/icons/outdent.svg);
}

i.undo {
  background-image: url(/images/icons/arrow-counterclockwise.svg);
}

i.redo {
  background-image: url(/images/icons/arrow-clockwise.svg);
}

i.upload {
  background-image: url(/images/icons/upload.svg);
}

i.download {
  background-image: url(/images/icons/download.svg);
}

i.share {
  background-image: url(/images/icons/send.svg);
}

i.equation {
  background-image: url(/images/icons/plus-slash-minus.svg);
}

i.copy {
  background-image: url(/images/icons/copy.svg);
}

i.success {
  background-image: url(/images/icons/success.svg);
}

i.page-break {
  background-image: url(/images/icons/scissors.svg);
}

i.bold {
  background-image: url(/images/icons/type-bold.svg);
}

i.italic {
  background-image: url(/images/icons/type-italic.svg);
}

i.clear {
  background-image: url(/images/icons/trash.svg);
}

i.code, i.code {
  background-image: url(/images/icons/code.svg);
}

i.underline {
  background-image: url(/images/icons/type-underline.svg);
}

i.uppercase {
  background-image: url(/images/icons/type-uppercase.svg);
}

i.lowercase {
  background-image: url(/images/icons/type-lowercase.svg);
}

i.capitalize {
  background-image: url(/images/icons/type-capitalize.svg);
}

i.strikethrough {
  background-image: url(/images/icons/type-strikethrough.svg);
}

i.subscript {
  background-image: url(/images/icons/type-subscript.svg);
}

i.superscript {
  background-image: url(/images/icons/type-superscript.svg);
}

i.highlight {
  background-image: url(/images/icons/highlighter.svg);
}

i.link {
  background-image: url(/images/icons/link.svg);
}

i.horizontal-rule {
  background-image: url(/images/icons/horizontal-rule.svg);
}

i.chevron-down{
  background-image: url(/images/icons/chevron-down.svg);
}

i.insert-reference{
  background-image: url(/images/icons/arrow-90deg-up.svg);
}

i.citation{
  background-image: url(/images/icons/journal-bookmark.svg);
}

i.paragraph { background-image: url(/images/icons/paragraph.svg) }
i.h1 { background-image: url(/images/icons/h1.svg) }
i.h2 { background-image: url(/images/icons/h2.svg) }
i.h3 { background-image: url(/images/icons/h3.svg) }
i.list-bullets, i.bullet { background-image: url(/images/icons/list-bullets.svg) }
i.list-numbers, i.number { background-image: url(/images/icons/list-numbers.svg) }
i.list-check { background-image: url(/images/icons/list-check.svg) }
i.latex { background-image: url(/images/icons/latex.svg) }

i.person-plus { background-image: url(/images/icons/person-plus.svg) }
i.institution { background-image: url(/images/icons/institution.svg) }
i.icon-text, i.fonts { background-image: url(/images/icons/fonts.svg) }
i.clipboard { background-image: url(/images/icons/clipboard.svg) }
i.page-break { background-image: url(/images/icons/page-break.svg) }
i.chevron-right{ background-image: url(/images/icons/chevron-right.svg) }
i.textcolor { background-image: url(/images/icons/palette.svg) }

.dropdown {
  z-index: 100;
  display: block;
  position: fixed;
  /*box-shadow: 0 12px 28px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1),
    inset 0 0 0 1px rgba(255, 255, 255, 0.5);*/
  border-radius: 8px;
  background-color: var(--bg-intermediate);
}

.dropdown > *{
  margin: 0 8px 0 8px;
  padding: 8px;
  line-height: 16px;
  font-size: 15px;
  background-color: var(--bg-intermediate);
  color: var(--text-secondary);
  border-radius: 8px;
  border: 0;
  min-width: 100px;
  display: flex;
  align-content: center;
  flex-direction: row;
  flex-shrink: 0;
  justify-content: space-between;
  align-items: center;
}

.dropdown button{
  color:var(--text-secondary);
}

.dropdown .item{
  width: 100%;
  margin-left: 0;
  margin-right: 0;
  box-sizing: border-box;
}

.dropdown .item.wide {
  align-items: center;
}

.dropdown .item.wide .icon-text-container {
  display: flex;

  .text {
    min-width: 120px;
  }
}

.dropdown .item .shortcut {
  color: var(--text-muted);
  align-self: flex-end;
  margin-left: 0.5em;
}

.dropdown .item .active {
  display: flex;
  width: 20px;
  height: 20px;
  background-size: contain;
}

.dropdown button.item:hover:not([disabled]){
  background-color: var(--bg-softer);
}

.dropdown .item .text {
  display: flex;
  line-height: 20px;
  flex-grow: 1;
  margin-right: 0.5em;
}

.dropdown .item i {
  display: flex;
  width: 20px;
  height: 20px;
  user-select: none;
  margin-right: 12px;
  line-height: 16px;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  @media not (prefers-color-scheme: light) {
    filter:invert(1);
  }
}

.dropdown .divider {
  width: auto;
  background-color: var(--border-primary);
  margin: 4px 8px;
  height: 1px;
}

.primary-dropdown > .item > button{
  display: flex;
  justify-content: space-between;
  width: 100%;
  padding: 8px;
}

.primary-dropdown > .item > button > i{
  margin-right: 0;
  margin-left: 0.5em;
}

.primary-dropdown > *{
  padding: 0;
}

.dropdown.colorgrid{
  display: grid;
  grid-template-columns: repeat(4, 2em);
  grid-template-rows: repeat(5, 2em);
  gap: 3px;
  padding: 5px;
}

.colorgrid > *{
  aspect-ratio: 1 / 1;
  margin: 0;
  min-width: 0;
  border-radius: 3px;
}

.colorgrid button:hover{
  border: solid 2px var(--border-primary);
}